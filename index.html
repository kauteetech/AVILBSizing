<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VMware Avi Load Balancer Sizing Calculator - VCF 9</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-branding">
      <div class="logo">
        <svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 2L2 10v16l16 8 16-8V10L18 2z" fill="currentColor" opacity="0.2"/>
          <path d="M18 2L2 10l16 8 16-8L18 2z" fill="currentColor"/>
          <path d="M2 26l16 8V18L2 10v16z" fill="currentColor" opacity="0.6"/>
          <path d="M34 26V10L18 18v16l16-8z" fill="currentColor"/>
        </svg>
        <span class="header-title">VMware Avi Load Balancer Sizing Calculator</span>
      </div>
    </div>
    <div class="header-nav">
      <span>VCF 9 - Complete Edition</span>
    </div>
  </header>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Sidenav -->
    <nav class="sidenav">
      <div class="sidenav-content">
        <div class="nav-group">
          <div class="nav-group-label">Calculator</div>
          <a class="nav-link active" data-section="quick" onclick="showSection('quick')">
            <svg viewBox="0 0 36 36" fill="currentColor">
              <path d="M16.2 22.9l2-7.2h-.5c-.8 0-1.5-.4-2-1-.5-.6-.7-1.4-.5-2.1l1-3.8c.3-1.1 1.4-1.8 2.5-1.8h8.6c.8 0 1.5.4 2 1 .5.6.7 1.4.5 2.1l-1 3.8c-.3 1.1-1.4 1.8-2.5 1.8h-.5l-2 7.2c-.2.8-1 1.4-1.8 1.4h-3.9c-.7 0-1.3-.5-1.5-1.2-.1-.2-.1-.5 0-.7.1-.3.3-.5.6-.5z"/>
              <path d="M18 30c-6.6 0-12-5.4-12-12S11.4 6 18 6c.6 0 1 .4 1 1s-.4 1-1 1c-5.5 0-10 4.5-10 10s4.5 10 10 10 10-4.5 10-10c0-.6.4-1 1-1s1 .4 1 1c0 6.6-5.4 12-12 12z"/>
            </svg>
            Quick Sizing
          </a>
          <a class="nav-link" data-section="advanced" onclick="showSection('advanced')">
            <svg viewBox="0 0 36 36" fill="currentColor">
              <path d="M32 5H4c-1.1 0-2 .9-2 2v22c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM4 29V7h28v22H4z"/>
              <path d="M7 10h5v3H7zm0 5h5v3H7zm0 5h5v3H7zm0 5h5v3H7zm7-15h15v2H14zm0 5h15v2H14zm0 5h15v2H14zm0 5h15v2H14z"/>
            </svg>
            Advanced Sizing
          </a>
          <a class="nav-link" data-section="results" onclick="showSection('results')">
            <svg viewBox="0 0 36 36" fill="currentColor">
              <path d="M32 5H4c-1.1 0-2 .9-2 2v22c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM4 29V7h28v22H4z"/>
              <path d="M7 25h3v-9H7zm6 0h3v-13h-3zm6 0h3v-6h-3zm6 0h3V11h-3z"/>
            </svg>
            Results
          </a>
        </div>
        <div class="nav-group">
          <div class="nav-group-label">Resources</div>
          <a class="nav-link" data-section="guide" onclick="showSection('guide')">
            <svg viewBox="0 0 36 36" fill="currentColor">
              <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
              <path d="M18 20a1 1 0 0 1-1-1v-6a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1z"/>
              <circle cx="18" cy="24" r="1"/>
            </svg>
            Sizing Guide
          </a>
        </div>
      </div>
    </nav>

    <!-- Content Area -->
    <div class="content-container">
      <div class="content-area">

        <!-- Quick Sizing Section -->
        <div id="quick-section">
          <div class="content-header">
            <h1>Quick Sizing Calculator</h1>
            <p>Get a rapid baseline estimate using the 100:1 ratio method</p>
          </div>

          <div class="card">
            <div class="card-header">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M16.2 22.9l2-7.2h-.5c-.8 0-1.5-.4-2-1-.5-.6-.7-1.4-.5-2.1l1-3.8c.3-1.1 1.4-1.8 2.5-1.8h8.6c.8 0 1.5.4 2 1 .5.6.7 1.4.5 2.1l-1 3.8c-.3 1.1-1.4 1.8-2.5 1.8h-.5l-2 7.2c-.2.8-1 1.4-1.8 1.4h-3.9c-.7 0-1.3-.5-1.5-1.2-.1-.2-.1-.5 0-.7.1-.3.3-.5.6-.5z"/>
              </svg>
              <span class="card-title">Configuration</span>
            </div>
            <div class="card-block">
              <div class="alert alert-info">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
                  <path d="M18 20a1 1 0 0 1-1-1v-6a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1z"/>
                  <circle cx="18" cy="24" r="1"/>
                </svg>
                <div>
                  <strong>Rule of Thumb:</strong> For early-stage planning, use 1 Service Unit (SU) per 100 VCF cores. This baseline estimate works well for typical workloads and standard designs.
                </div>
              </div>

              <div class="clr-form">
                <div class="clr-form-control">
                  <label for="vcf-cores" class="clr-control-label">Total VCF Cores</label>
                  <input type="number" id="vcf-cores" class="clr-input" placeholder="e.g., 2000" min="0">
                </div>
              </div>

              <div style="margin-top: var(--cds-global-space-9);">
                <button class="btn btn-success" onclick="calculateQuick()">
                  <svg width="16" height="16" viewBox="0 0 36 36" fill="currentColor">
                    <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm-1.4 21.6l-7-7 1.4-1.4 5.6 5.6L27.4 10l1.4 1.4z"/>
                  </svg>
                  Calculate Quick Sizing
                </button>
              </div>
            </div>
          </div>

          <div id="quick-results" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M32 5H4c-1.1 0-2 .9-2 2v22c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM4 29V7h28v22H4z"/>
                  <path d="M7 25h3v-9H7zm6 0h3v-13h-3zm6 0h3v-6h-3zm6 0h3V11h-3z"/>
                </svg>
                <span class="card-title">Quick Sizing Results</span>
              </div>
              <div class="card-block">
                <div class="results-grid">
                  <div class="stat-card primary">
                    <div class="stat-label">Estimated Service Units</div>
                    <div class="stat-value" id="quick-sus">-</div>
                    <div class="stat-unit">SUs</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Advanced Sizing Section -->
        <div id="advanced-section" class="hidden">
          <div class="content-header">
            <h1>Advanced Sizing Calculator</h1>
            <p>Comprehensive capacity planning with throughput, transactions, WAF, GSLB, and architecture parameters</p>
          </div>

          <div class="nav-tabs">
            <button class="nav-tab active" data-tab="dc-prod" onclick="showTab('dc-prod')">DC - Production</button>
            <button class="nav-tab" data-tab="dc-nonprod" onclick="showTab('dc-nonprod')">DC - Non-Prod</button>
            <button class="nav-tab" data-tab="dr-prod" onclick="showTab('dr-prod')">DR - Production</button>
            <button class="nav-tab" data-tab="dr-nonprod" onclick="showTab('dr-nonprod')">DR - Non-Prod</button>
            <button class="nav-tab" data-tab="gslb" onclick="showTab('gslb')">GSLB</button>
            <button class="nav-tab" data-tab="architecture" onclick="showTab('architecture')">Architecture</button>
          </div>

          <!-- DC PROD Tab -->
          <div id="dc-prod-tab">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M33 6.5h-1.4c-.1-1.1-.5-2.2-1.1-3.1-.6-.9-1.5-1.6-2.4-2.1-.9-.5-2-.8-3-.8H11.9c-1.1 0-2.1.3-3 .8-.9.5-1.7 1.2-2.4 2.1-.6.9-1 2-1.1 3.1H4c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h1v1c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2v-1h1c1.1 0 2-.9 2-2v-20c0-1.1-.9-2-2-2z"/>
                </svg>
                <span class="card-title">Data Center - Production Environment</span>
              </div>
              <div class="card-block">
                <div class="year-tabs">
                  <button class="year-tab active" onclick="selectYear('dc-prod', 1)">Year 1</button>
                  <button class="year-tab" onclick="selectYear('dc-prod', 2)">Year 2</button>
                  <button class="year-tab" onclick="selectYear('dc-prod', 3)">Year 3</button>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="dc-prod-ssl-throughput" class="clr-control-label">SSL Throughput (Gbps)</label>
                    <input type="number" id="dc-prod-ssl-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-prod" data-field="sslThroughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-ssl-tps" class="clr-control-label">SSL TPS</label>
                    <input type="number" id="dc-prod-ssl-tps" class="clr-input" placeholder="0" min="0" data-env="dc-prod" data-field="sslTps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-ssl-type" class="clr-control-label">Certificate Type</label>
                    <select id="dc-prod-ssl-type" class="clr-select" data-env="dc-prod" data-field="sslType">
                      <option value="rsa2k">RSA 2K</option>
                      <option value="ecc">ECC</option>
                    </select>
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-l7-throughput" class="clr-control-label">L7 Throughput (Gbps)</label>
                    <input type="number" id="dc-prod-l7-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-prod" data-field="l7Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-l7-rps" class="clr-control-label">L7 Requests/sec</label>
                    <input type="number" id="dc-prod-l7-rps" class="clr-input" placeholder="0" min="0" data-env="dc-prod" data-field="l7Rps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-l4-throughput" class="clr-control-label">L4 Throughput (Gbps)</label>
                    <input type="number" id="dc-prod-l4-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-prod" data-field="l4Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-l4-cps" class="clr-control-label">L4 Connections/sec</label>
                    <input type="number" id="dc-prod-l4-cps" class="clr-input" placeholder="0" min="0" data-env="dc-prod" data-field="l4Cps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-k8s-clusters" class="clr-control-label">K8s Clusters</label>
                    <input type="number" id="dc-prod-k8s-clusters" class="clr-input" placeholder="0" min="0" data-env="dc-prod" data-field="k8sClusters">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-prod-apps" class="clr-control-label">Number of Applications</label>
                    <input type="number" id="dc-prod-apps" class="clr-input" placeholder="0" min="0" data-env="dc-prod" data-field="apps">
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">WAF Required?</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'dc-prod', 'waf', false)">No</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'dc-prod', 'waf', true)">Yes</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- DC Non-PROD Tab -->
          <div id="dc-nonprod-tab" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M33 6.5h-1.4c-.1-1.1-.5-2.2-1.1-3.1-.6-.9-1.5-1.6-2.4-2.1-.9-.5-2-.8-3-.8H11.9c-1.1 0-2.1.3-3 .8-.9.5-1.7 1.2-2.4 2.1-.6.9-1 2-1.1 3.1H4c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h1v1c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2v-1h1c1.1 0 2-.9 2-2v-20c0-1.1-.9-2-2-2z"/>
                </svg>
                <span class="card-title">Data Center - Non-Production (Pre-PROD/UAT)</span>
              </div>
              <div class="card-block">
                <div class="year-tabs">
                  <button class="year-tab active" onclick="selectYear('dc-nonprod', 1)">Year 1</button>
                  <button class="year-tab" onclick="selectYear('dc-nonprod', 2)">Year 2</button>
                  <button class="year-tab" onclick="selectYear('dc-nonprod', 3)">Year 3</button>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="dc-nonprod-ssl-throughput" class="clr-control-label">SSL Throughput (Gbps)</label>
                    <input type="number" id="dc-nonprod-ssl-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-nonprod" data-field="sslThroughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-ssl-tps" class="clr-control-label">SSL TPS</label>
                    <input type="number" id="dc-nonprod-ssl-tps" class="clr-input" placeholder="0" min="0" data-env="dc-nonprod" data-field="sslTps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-ssl-type" class="clr-control-label">Certificate Type</label>
                    <select id="dc-nonprod-ssl-type" class="clr-select" data-env="dc-nonprod" data-field="sslType">
                      <option value="rsa2k">RSA 2K</option>
                      <option value="ecc">ECC</option>
                    </select>
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-l7-throughput" class="clr-control-label">L7 Throughput (Gbps)</label>
                    <input type="number" id="dc-nonprod-l7-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-nonprod" data-field="l7Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-l7-rps" class="clr-control-label">L7 Requests/sec</label>
                    <input type="number" id="dc-nonprod-l7-rps" class="clr-input" placeholder="0" min="0" data-env="dc-nonprod" data-field="l7Rps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-l4-throughput" class="clr-control-label">L4 Throughput (Gbps)</label>
                    <input type="number" id="dc-nonprod-l4-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dc-nonprod" data-field="l4Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-l4-cps" class="clr-control-label">L4 Connections/sec</label>
                    <input type="number" id="dc-nonprod-l4-cps" class="clr-input" placeholder="0" min="0" data-env="dc-nonprod" data-field="l4Cps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-k8s-clusters" class="clr-control-label">K8s Clusters</label>
                    <input type="number" id="dc-nonprod-k8s-clusters" class="clr-input" placeholder="0" min="0" data-env="dc-nonprod" data-field="k8sClusters">
                  </div>
                  <div class="clr-form-control">
                    <label for="dc-nonprod-apps" class="clr-control-label">Number of Applications</label>
                    <input type="number" id="dc-nonprod-apps" class="clr-input" placeholder="0" min="0" data-env="dc-nonprod" data-field="apps">
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">WAF Required?</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'dc-nonprod', 'waf', false)">No</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'dc-nonprod', 'waf', true)">Yes</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- DR PROD Tab -->
          <div id="dr-prod-tab" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M33 6.5h-1.4c-.1-1.1-.5-2.2-1.1-3.1-.6-.9-1.5-1.6-2.4-2.1-.9-.5-2-.8-3-.8H11.9c-1.1 0-2.1.3-3 .8-.9.5-1.7 1.2-2.4 2.1-.6.9-1 2-1.1 3.1H4c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h1v1c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2v-1h1c1.1 0 2-.9 2-2v-20c0-1.1-.9-2-2-2z"/>
                  <circle cx="18" cy="18.5" r="7"/>
                </svg>
                <span class="card-title">DR Site - Production Environment</span>
              </div>
              <div class="card-block">
                <div class="year-tabs">
                  <button class="year-tab active" onclick="selectYear('dr-prod', 1)">Year 1</button>
                  <button class="year-tab" onclick="selectYear('dr-prod', 2)">Year 2</button>
                  <button class="year-tab" onclick="selectYear('dr-prod', 3)">Year 3</button>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="dr-prod-ssl-throughput" class="clr-control-label">SSL Throughput (Gbps)</label>
                    <input type="number" id="dr-prod-ssl-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-prod" data-field="sslThroughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-ssl-tps" class="clr-control-label">SSL TPS</label>
                    <input type="number" id="dr-prod-ssl-tps" class="clr-input" placeholder="0" min="0" data-env="dr-prod" data-field="sslTps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-ssl-type" class="clr-control-label">Certificate Type</label>
                    <select id="dr-prod-ssl-type" class="clr-select" data-env="dr-prod" data-field="sslType">
                      <option value="rsa2k">RSA 2K</option>
                      <option value="ecc">ECC</option>
                    </select>
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-l7-throughput" class="clr-control-label">L7 Throughput (Gbps)</label>
                    <input type="number" id="dr-prod-l7-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-prod" data-field="l7Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-l7-rps" class="clr-control-label">L7 Requests/sec</label>
                    <input type="number" id="dr-prod-l7-rps" class="clr-input" placeholder="0" min="0" data-env="dr-prod" data-field="l7Rps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-l4-throughput" class="clr-control-label">L4 Throughput (Gbps)</label>
                    <input type="number" id="dr-prod-l4-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-prod" data-field="l4Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-l4-cps" class="clr-control-label">L4 Connections/sec</label>
                    <input type="number" id="dr-prod-l4-cps" class="clr-input" placeholder="0" min="0" data-env="dr-prod" data-field="l4Cps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-k8s-clusters" class="clr-control-label">K8s Clusters</label>
                    <input type="number" id="dr-prod-k8s-clusters" class="clr-input" placeholder="0" min="0" data-env="dr-prod" data-field="k8sClusters">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-prod-apps" class="clr-control-label">Number of Applications</label>
                    <input type="number" id="dr-prod-apps" class="clr-input" placeholder="0" min="0" data-env="dr-prod" data-field="apps">
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">WAF Required?</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'dr-prod', 'waf', false)">No</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'dr-prod', 'waf', true)">Yes</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- DR Non-PROD Tab -->
          <div id="dr-nonprod-tab" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M33 6.5h-1.4c-.1-1.1-.5-2.2-1.1-3.1-.6-.9-1.5-1.6-2.4-2.1-.9-.5-2-.8-3-.8H11.9c-1.1 0-2.1.3-3 .8-.9.5-1.7 1.2-2.4 2.1-.6.9-1 2-1.1 3.1H4c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h1v1c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2v-1h1c1.1 0 2-.9 2-2v-20c0-1.1-.9-2-2-2z"/>
                  <circle cx="18" cy="18.5" r="7"/>
                </svg>
                <span class="card-title">DR Site - Non-Production (Pre-PROD/UAT)</span>
              </div>
              <div class="card-block">
                <div class="year-tabs">
                  <button class="year-tab active" onclick="selectYear('dr-nonprod', 1)">Year 1</button>
                  <button class="year-tab" onclick="selectYear('dr-nonprod', 2)">Year 2</button>
                  <button class="year-tab" onclick="selectYear('dr-nonprod', 3)">Year 3</button>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="dr-nonprod-ssl-throughput" class="clr-control-label">SSL Throughput (Gbps)</label>
                    <input type="number" id="dr-nonprod-ssl-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-nonprod" data-field="sslThroughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-ssl-tps" class="clr-control-label">SSL TPS</label>
                    <input type="number" id="dr-nonprod-ssl-tps" class="clr-input" placeholder="0" min="0" data-env="dr-nonprod" data-field="sslTps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-ssl-type" class="clr-control-label">Certificate Type</label>
                    <select id="dr-nonprod-ssl-type" class="clr-select" data-env="dr-nonprod" data-field="sslType">
                      <option value="rsa2k">RSA 2K</option>
                      <option value="ecc">ECC</option>
                    </select>
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-l7-throughput" class="clr-control-label">L7 Throughput (Gbps)</label>
                    <input type="number" id="dr-nonprod-l7-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-nonprod" data-field="l7Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-l7-rps" class="clr-control-label">L7 Requests/sec</label>
                    <input type="number" id="dr-nonprod-l7-rps" class="clr-input" placeholder="0" min="0" data-env="dr-nonprod" data-field="l7Rps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-l4-throughput" class="clr-control-label">L4 Throughput (Gbps)</label>
                    <input type="number" id="dr-nonprod-l4-throughput" class="clr-input" placeholder="0" min="0" step="0.1" data-env="dr-nonprod" data-field="l4Throughput">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-l4-cps" class="clr-control-label">L4 Connections/sec</label>
                    <input type="number" id="dr-nonprod-l4-cps" class="clr-input" placeholder="0" min="0" data-env="dr-nonprod" data-field="l4Cps">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-k8s-clusters" class="clr-control-label">K8s Clusters</label>
                    <input type="number" id="dr-nonprod-k8s-clusters" class="clr-input" placeholder="0" min="0" data-env="dr-nonprod" data-field="k8sClusters">
                  </div>
                  <div class="clr-form-control">
                    <label for="dr-nonprod-apps" class="clr-control-label">Number of Applications</label>
                    <input type="number" id="dr-nonprod-apps" class="clr-input" placeholder="0" min="0" data-env="dr-nonprod" data-field="apps">
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">WAF Required?</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'dr-nonprod', 'waf', false)">No</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'dr-nonprod', 'waf', true)">Yes</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- GSLB Tab -->
          <div id="gslb-tab" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
                  <path d="M18 6a12 12 0 0 0-9 4l1.5 1.5A10 10 0 0 1 18 8a10 10 0 0 1 7.5 3.5L27 10a12 12 0 0 0-9-4z"/>
                  <circle cx="18" cy="18" r="3"/>
                </svg>
                <span class="card-title">Global Server Load Balancing (GSLB)</span>
              </div>
              <div class="card-block">
                <div class="alert alert-info">
                  <svg viewBox="0 0 36 36" fill="currentColor">
                    <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
                    <path d="M18 20a1 1 0 0 1-1-1v-6a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1z"/>
                    <circle cx="18" cy="24" r="1"/>
                  </svg>
                  <div>
                    <strong>GSLB Sizing Rule:</strong> 2 SEs per active GSLB site. GSLB uses authoritative DNS (does not proxy user traffic).
                  </div>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="gslb-sites" class="clr-control-label">Number of GSLB Sites</label>
                    <input type="number" id="gslb-sites" class="clr-input" placeholder="0" min="0">
                  </div>
                  <div class="clr-form-control">
                    <label for="gslb-dns-rps-dc" class="clr-control-label">DNS RPS at DC</label>
                    <input type="number" id="gslb-dns-rps-dc" class="clr-input" placeholder="0" min="0">
                  </div>
                  <div class="clr-form-control">
                    <label for="gslb-dns-rps-dr" class="clr-control-label">DNS RPS at DR</label>
                    <input type="number" id="gslb-dns-rps-dr" class="clr-input" placeholder="0" min="0">
                  </div>
                  <div class="clr-form-control">
                    <label for="gslb-vcpu" class="clr-control-label">vCPU per SE</label>
                    <select id="gslb-vcpu" class="clr-select">
                      <option value="1">1 vCPU</option>
                      <option value="2" selected>2 vCPU</option>
                      <option value="4">4 vCPU</option>
                      <option value="8">8 vCPU</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Architecture Tab -->
          <div id="architecture-tab" class="hidden">
            <div class="card">
              <div class="card-header">
                <svg viewBox="0 0 36 36" fill="currentColor">
                  <path d="M18 19.84l-6.5 5.28v-8.48L18 11.36l6.5 5.28v8.48L18 19.84zm-9-10.36v12.96L18 28l9-5.56V9.48L18 4 9 9.48z"/>
                </svg>
                <span class="card-title">VCF Architecture & Topology</span>
              </div>
              <div class="card-block">
                <div class="alert alert-warning">
                  <svg viewBox="0 0 36 36" fill="currentColor">
                    <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
                    <path d="M17 11h2v11h-2z"/>
                    <circle cx="18" cy="25" r="1.5"/>
                  </svg>
                  <div>
                    <strong>Important:</strong> Each VCF Region requires its own Avi Controller cluster and at least one SEG. VPC/VRF density impacts sizing (max 9 VRFs per SE).
                  </div>
                </div>

                <div class="clr-form">
                  <div class="clr-form-control">
                    <label for="arch-regions" class="clr-control-label">Number of VCF Regions</label>
                    <input type="number" id="arch-regions" class="clr-input" placeholder="1" min="1" value="1">
                  </div>
                  <div class="clr-form-control">
                    <label for="arch-orgs" class="clr-control-label">Number of Organizations</label>
                    <input type="number" id="arch-orgs" class="clr-input" placeholder="1" min="1" value="1">
                  </div>
                  <div class="clr-form-control">
                    <label for="arch-vpcs" class="clr-control-label">Number of VPCs</label>
                    <input type="number" id="arch-vpcs" class="clr-input" placeholder="1" min="1" value="1">
                  </div>
                  <div class="clr-form-control">
                    <label for="arch-vcpu" class="clr-control-label">SE vCPU Size</label>
                    <select id="arch-vcpu" class="clr-select">
                      <option value="1">1 vCPU</option>
                      <option value="2" selected>2 vCPU</option>
                      <option value="4">4 vCPU</option>
                      <option value="8">8 vCPU</option>
                    </select>
                  </div>
                  <div class="clr-form-control">
                    <label for="arch-buffer" class="clr-control-label">Capacity Buffer/Headroom (%)</label>
                    <input type="number" id="arch-buffer" class="clr-input" placeholder="20" min="0" max="100" value="20">
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">SEG Model</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'arch', 'segModel', 'shared')">Shared SEG</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'arch', 'segModel', 'dedicated')">Dedicated SEG per Org</div>
                  </div>
                </div>

                <div class="clr-form-control" style="margin-top: var(--cds-global-space-8);">
                  <label class="clr-control-label">HA Configuration</label>
                  <div class="toggle-group">
                    <div class="toggle-btn active" onclick="toggleOption(this, 'arch', 'haConfig', 'elastic')">Elastic Active/Active</div>
                    <div class="toggle-btn" onclick="toggleOption(this, 'arch', 'haConfig', 'legacy')">Legacy Active/Standby</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div style="margin-top: var(--cds-global-space-9);">
            <button class="btn btn-primary" onclick="calculateAdvanced()">
              <svg width="16" height="16" viewBox="0 0 36 36" fill="currentColor">
                <path d="M32 5H4c-1.1 0-2 .9-2 2v22c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM4 29V7h28v22H4z"/>
                <path d="M7 25h3v-9H7zm6 0h3v-13h-3zm6 0h3v-6h-3zm6 0h3V11h-3z"/>
              </svg>
              Calculate Advanced Sizing
            </button>
          </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="hidden">
          <div class="content-header">
            <h1>Sizing Results</h1>
            <p>Your calculated Service Units, deployment configuration, and controller requirements</p>
          </div>

          <div id="results-content">
            <div class="alert alert-info">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2zm0 30a14 14 0 1 1 14-14 14 14 0 0 1-14 14z"/>
                <path d="M18 20a1 1 0 0 1-1-1v-6a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1z"/>
                <circle cx="18" cy="24" r="1"/>
              </svg>
              <div>Please complete Quick or Advanced sizing calculation to see results.</div>
            </div>
          </div>
        </div>

        <!-- Guide Section -->
        <div id="guide-section" class="hidden">
          <div class="content-header">
            <h1>Sizing Guide & Best Practices</h1>
            <p>Understanding Service Units, throughput capacity, transaction limits, and architectural considerations</p>
          </div>

          <div class="card">
            <div class="card-header">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M30 8H6v20h24V8zM8 26V10h20v16H8z"/>
              </svg>
              <span class="card-title">Service Units (SUs)</span>
            </div>
            <div class="card-block">
              <p>A Service Unit is consumed for each vCPU deployed within a Service Engine (SE) and directly measures data-plane capacity.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M32 5H4c-1.1 0-2 .9-2 2v22c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM4 29V7h28v22H4z"/>
                <path d="M7 25h3v-9H7zm6 0h3v-13h-3zm6 0h3v-6h-3zm6 0h3V11h-3z"/>
              </svg>
              <span class="card-title">Capacity Guidelines</span>
            </div>
            <div class="card-block">
              <h4 style="margin-bottom: var(--cds-global-space-5);">Throughput (Conservative)</h4>
              <ul style="margin-left: var(--cds-global-space-9); line-height: 1.8;">
                <li>1 vCPU supports ~1 Gb/s of L7 SSL traffic</li>
                <li>1 vCPU supports ~2 Gb/s of L4 traffic</li>
                <li>Vertical scaling increases capacity (not always linear)</li>
              </ul>

              <h4 style="margin: var(--cds-global-space-8) 0 var(--cds-global-space-5) 0;">Transactions per Second</h4>
              <ul style="margin-left: var(--cds-global-space-9); line-height: 1.8;">
                <li>SSL TPS (RSA 2K): ~2,000 TPS per vCPU</li>
                <li>SSL TPS (ECC): ~4,000 TPS per vCPU</li>
                <li>L7 RPS: ~40,000 requests/sec per vCPU</li>
                <li>L4 CPS: ~100,000 connections/sec per vCPU</li>
              </ul>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M31 10h-6.6L21 3H15l-3.4 7H5c-1.1 0-2 .9-2 2v17c0 1.1.9 2 2 2h26c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/>
              </svg>
              <span class="card-title">WAF Sizing</span>
            </div>
            <div class="card-block">
              <p>General guideline: ~6 SUs per 1 Gb/s of WAF-protected traffic. This can vary based on WAF policy complexity and ruleset size.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <svg viewBox="0 0 36 36" fill="currentColor">
                <path d="M18 19.84l-6.5 5.28v-8.48L18 11.36l6.5 5.28v8.48L18 19.84z"/>
              </svg>
              <span class="card-title">VCF 9 Architecture</span>
            </div>
            <div class="card-block">
              <ul style="margin-left: var(--cds-global-space-9); line-height: 1.8;">
                <li><strong>Region:</strong> One Avi Controller Cluster per VCF Region (3 nodes for HA)</li>
                <li><strong>Organization:</strong> Maps to Avi Tenant (logical separation)</li>
                <li><strong>VPC:</strong> Each VPC is a VRF (routing domain)</li>
                <li><strong>VRF limit:</strong> Each SE can attach to up to 9 VPCs/VRFs</li>
                <li><strong>Controller sizing:</strong> Based on number of virtual services and API load</li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script src="calculator.js"></script>
</body>
</html>
